<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-Strict.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	template="../layout/layout.xhtml">
<ui:define name="content">
<h:form id = "formone">
<p:selectOneMenu value="#{branBean.currentPage}" style="display:none;" >
	<f:selectItem itemValue="caiwu" itemLabel="caiwu" />
</p:selectOneMenu>

<p:dialog visible="#{not empty facesContext.messageList}"   header="#{facesContext.messageList[0].severity eq 'ERROR 2'?'错误':' '}"  modal="true" >
	<p:repeat value="#{facesContext.messageList}" var="message">
		<h:panelGrid columns="2" style="width:100%" columnClasses="logo,detail">
			<p:graphicImage rendered="#{message.severity eq 'INFO 0'}" url="/images/info.png" />
			<p:graphicImage rendered="#{message.severity eq 'WARN 1'}" url="/images/warn.png" />
			<p:graphicImage rendered="#{message.severity eq 'ERROR 2'}" url="/images/error.png" />
			<h:outputText value="#{message.detail}" style="font-weight: bold"/>	
		</h:panelGrid>
	</p:repeat>
</p:dialog> 
<p:messages id="ajaxmsg" showDetail="true" autoUpdate="true" closable="true" />
<p:panel style="height:620px;">

<div class="WordSection1" style='layout-grid:15.6pt'>

<p class="New" align="left" style='text-align:left;line-height:26.0pt'><b><span
lang="EN-US" style='font-size:22.0pt;font-family:宋体'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b></p>

<p class="New" align="center" style='text-align:center;line-height:26.0pt'><b><span
style='font-size:18.0pt;font-family:宋体'>财务负责人信息</span></b></p>

<p class="New" align="center" style='text-align:center;line-height:26.0pt'><b><span
lang="EN-US" style='font-family:宋体'>&nbsp;</span></b></p>

<div align="center">

<table class="MsoNormal" border="1" cellspacing="0" cellpadding="0"
 style='border-collapse:collapse;border:none'>
 <tr style='height:45.35pt'>
  <td width="162" style='width:97.1pt;border-top:1.5pt;border-left:1.5pt;
  border-bottom:1.0pt;border-right:1.0pt;border-color:windowtext;border-style:
  solid;padding:0cm 5.4pt 0cm 5.4pt;height:45.35pt'>
  <p class="New" align="center" style='text-align:center;line-height:26.0pt'><span
  style='font-family:宋体'>*姓<span lang="EN-US">&nbsp;&nbsp;&nbsp; </span>名</span></p>
  </td> 
  <td width="223" style='width:134.0pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:45.35pt'>

  <p:inputText id="Branchreg_finName" value = "#{branBean.creg.finName}" style="width:100px;"  >
  		<f:converter converterId="gov.cygs.ConValidator"  />
  	</p:inputText>
  	<p:watermark for="Branchreg_finName" value="输入姓名" id="watermark1" />
  	<p:commandButton rendered="#{not branBean.admin}" style="width:60px;font-size:14px;padding:0px;" immediate="true" update="formone" value="选取"  oncomplete="PF('persons').show()"  />	
  	
	<p:message for="Branchreg_finName"/>

  </td>
  <td width="149" style='width:89.1pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:45.35pt'>
  <p class="New" align="center" style='text-align:center;text-indent:15.75pt;line-height:26.0pt'><span
  style='font-family:宋体'>固定电话</span></p>
  </td>
  <td width="210" style='width:126.2pt;border-top:solid windowtext 1.5pt;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:45.35pt'>

  <p:inputText id="Branchreg_finTele" value = "#{branBean.creg.finTele}" style="width:95%;"  >
  		<f:converter converterId="gov.cygs.ConValidator"  />
  	</p:inputText>
  	<p:watermark for="Branchreg_finTele" value="输入电话号码" id="watermark2" />
	<p:message for="Branchreg_finTele"/>

  </td>
 </tr>
 <tr style='height:45.35pt'>
  <td width="162" style='width:97.1pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:45.35pt'>
  <p class="New" align="center" style='text-align:center;line-height:26.0pt'><span
  style='font-family:宋体'>移动电话</span></p>
  </td>
  <td width="223" style='width:134.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:45.35pt'>

  <p:inputText id="Branchreg_finMobile" value = "#{branBean.creg.finMobile}" style="width:95%;"  >
  		<f:converter converterId="gov.cygs.ConValidator"  />
  	</p:inputText>
  	<p:watermark for="Branchreg_finMobile" value="输入手机号码" id="watermark3" />
	<p:message for="Branchreg_finMobile"/>

  </td>
  <td width="149" style='width:89.1pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:45.35pt'>
  <p class="New" align="center" style='text-align:center;line-height:26.0pt'><span
  style='font-family:宋体'>电子邮箱</span></p>
  </td>
  <td width="210" style='width:126.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:45.35pt'>

  <p:inputText id="Branchreg_finMail" value = "#{branBean.creg.finMail}" style="width:95%;"  >
  		<f:converter converterId="gov.cygs.ConValidator"  />
  	</p:inputText>
  	<p:watermark for="Branchreg_finMail" value="输入电子邮件" id="watermark4" />
	<p:message for="Branchreg_finMail"/>

  </td>
 </tr>
 <tr style='height:44.45pt'>
  <td width="162" style='width:97.1pt;border-top:none;border-left:solid windowtext 1.5pt;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:44.45pt'>
  <p class="New" align="center" style='text-align:center;line-height:26.0pt'><span
  style='font-family:宋体'>身份证件类型</span></p>
  </td>
  <td width="223" style='width:134.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:44.45pt'>

     	<p:selectOneMenu value="#{branBean.creg.finIdtype}"  style="width:80%">
			<f:selectItems value="#{selectItems.idTypes}"/>
		</p:selectOneMenu>
  
  </td>
  <td width="149" style='width:89.1pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:44.45pt'>
  <p class="New" align="center" style='text-align:center;line-height:26.0pt'><span
  style='font-family:宋体'>身份证件号码</span></p>
  </td>
  <td width="210" style='width:126.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:44.45pt'>

  <p:inputText id="Branchreg_finIdno" value = "#{branBean.creg.finIdno}" style="width:95%;"  >
  		<f:converter converterId="gov.cygs.ConValidator"  />
  	</p:inputText>
  	<p:watermark for="Branchreg_finIdno" value="输入证件号码" id="watermark5" />
	<p:message for="Branchreg_finIdno"/>
  
  </td>
 </tr>
 <tr style='height:224.65pt'>
  <td width="744" colspan="4" style='width:446.4pt;border:solid windowtext 1.5pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt;height:224.65pt'>
  <p class="New" align="center" style='text-align:center;line-height:26.0pt'><span
  lang="EN-US" style='font-family:宋体'>&nbsp;提示：固定电话和移动电话至少输入一项。</span></p>
  <p class="New" align="center" style='text-align:center;line-height:26.0pt'><span
  lang="EN-US" style='font-family:宋体'>&nbsp;</span></p>
  <p class="New" align="center" style='text-align:center;line-height:26.0pt'><span
  lang="EN-US" style='font-family:宋体'>&nbsp;</span></p>
  <p class="New" align="center" style='text-align:center;line-height:26.0pt'><span
  lang="EN-US" style='font-family:宋体'>&nbsp;</span></p>
  <p class="New" align="center" style='text-align:center;line-height:26.0pt'><span
  style='font-family:宋体'>（身份证件复印件粘贴处）</span></p>
  <p class="New" style='line-height:26.0pt'><span lang="EN-US" style='font-family:
  宋体'>&nbsp;</span></p>
  <p class="New" style='line-height:26.0pt'><span lang="EN-US" style='font-family:
  宋体'>&nbsp;</span></p>
  <p class="New" style='line-height:26.0pt'><span lang="EN-US" style='font-family:
  宋体'>&nbsp;</span></p>
  <p class="New" style='line-height:26.0pt'><span lang="EN-US" style='font-family:
  宋体'>&nbsp;</span></p>
  </td>
 </tr>
</table>
</div>
<p class="MsoNormal" style='margin-bottom:4.65pt;text-autospace:none'><i><span
lang="EN-US" style='font-family:宋体'>&nbsp;</span></i></p>
</div>
<p:fragment id="frag00">
<p:dialog header="人员信息" widgetVar="persons" modal="true" showEffect="fade" hideEffect="fade" resizable="false" width="850">
<div style="clear: both;" ></div>
	<div>
	   <p:dataTable emptyMessage="无记录" id="persons"  value="#{branBean.persons}" var="person"  paginator="false" rows="20" 
	   selection="#{branBean.selectedPerson}"  rowKey="#{person.idNo}" >
	   <p:column selectionMode="single" style="width:16px;text-align:center"/>
	   <p:column style="width:200px" headerText="姓名" >
			<h:outputText value="#{person.name}" />
	   </p:column>
	   <p:column style="width:200px" headerText="证件类型" >
			<h:outputText value="#{person.idType}" />
	   </p:column>
	   <p:column style="width:280px" headerText="证件号码" >
			<h:outputText value="#{person.idNo}" />
	   </p:column>
	   </p:dataTable>
	</div>
	<div class="center" >
	    <p:commandButton update="formone" value="取消"  immediate="true" onclick="PF('persons').close()" />
        <p:commandButton update="formone" value="保存" action="#{branBean.updatePerson('fin')}" oncomplete="PF('persons').hide()" >
        </p:commandButton>
    </div>
</p:dialog>
</p:fragment>

</p:panel>
<div class="center">

<p:panel styleClass="center" style="width:508.2pt;" id="comment" rendered="#{branBean.admin}" >
  	<p:inputTextarea id="Branchreg_comment4"  rows="8" cols="58" value="#{branBean.creg.comment4}" counter="comment_remain" maxlength="150" counterTemplate="还可输入{0}字 ." autoResize="false" >
  		<f:converter converterId="gov.cygs.ConValidator"  />
  	</p:inputTextarea>
  	<br/>
  	<h:outputText id="comment_remain" />
    <p:message for="Branchreg_comment4"/>
</p:panel>
<p:panel styleClass="center" style="width:508.2pt;" id="commentuser" rendered="#{not branBean.admin and branBean.creg.comment4 ne null and branBean.creg.comment4 ne '' }" >
	<h:outputText value = "#{branBean.creg.comment4}"  style = "width:100%;color:red;" />
</p:panel>

	<h:commandLink styleClass="button3"  value="上一步" action="#{branBean.prepage('lianluo')}" immediate="#{branList.admin?'false':'false'}" >
		<f:param name="branid" value="#{branBean.creg.id}" />
	</h:commandLink>	
	<p:commandButton action="#{branBean.saveData('caiwu')}" value="保存"  update="formone" />
	<h:commandLink styleClass="button3"  value="下一步" action="#{branBean.openpage('weituo')}" immediate="#{branList.admin?'false':'false'}"  >
		<f:param name="branid" value="#{branBean.creg.id}" />
	</h:commandLink>	
</div>
			
</h:form>
</ui:define>
</ui:composition>